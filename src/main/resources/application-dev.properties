server.port=8080

# Local MySQL (fast for development) - ACTIVE
spring.datasource.url=jdbc:mysql://localhost:3306/Matromony?createDatabaseIfNotExist=true&useSSL=false
spring.datasource.username=root
spring.datasource.password=root

spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver

# HikariCP Connection Pool Configuration
spring.datasource.hikari.minimum-idle=5
spring.datasource.hikari.maximum-pool-size=20
spring.datasource.hikari.idle-timeout=300000
spring.datasource.hikari.max-lifetime=1200000
spring.datasource.hikari.connection-timeout=30000
spring.datasource.hikari.pool-name=MatrimonyHikariPool
spring.datasource.hikari.leak-detection-threshold=120000

# JPA/Hibernate Performance Settings
spring.jpa.open-in-view=false
spring.jpa.properties.hibernate.jdbc.batch_size=25
spring.jpa.properties.hibernate.order_inserts=true
spring.jpa.properties.hibernate.order_updates=true
spring.jpa.properties.hibernate.jdbc.batch_versioned_data=true
spring.jpa.properties.hibernate.default_batch_fetch_size=16

spring.jpa.generate-ddl=true
spring.jpa.show-sql=false
spring.jpa.properties.hibernate.format_sql=true
spring.jpa.properties.hibernate.use_sql_comments=true

spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect
spring.jpa.hibernate.ddl-auto=update

spring.main.allow-circular-references=true

spring.mail.username=""
spring.mail.password=""
spring.mail.host=smtp.gmail.com
spring.mail.port=465
spring.mail.properties.mail.smtp.ssl.enable=true
spring.mail.properties.mail.smtp.auth=true

# Swagger properties
springdoc.swagger-ui.path=/swagger-ui.html
springdoc.api-docs.path=/v3/api-docs

# Rate limiting settings 
app.rate-limiting.enabled=true
app.rate-limiting.limit-for-period=1000
app.rate-limiting.refresh-period=600
app.rate-limiting.timeout-duration=3000

spring.task.scheduling.time-zone=Asia/Kolkata

# Password reset URL
app.url.password-reset=http://localhost:3000/reset-password

# CORS configuration
app.cors.allowed-origins=http://localhost:5173,http://localhost:3000,https://matrimony-v1.netlify.app

## JWT Configuration
#jwt.secret=${JWT_SECRET}
#jwt.device-fingerprinting-enabled=true
#jwt.not-before=0
#jwt.allowed-clock-skew-seconds=10
#jwt.expiration=7200
#jwt.enforce-single-session=false
#
## Encryption settings
#app.encryption.secret-key=${SECRET_KEY}
#app.encryption.legacy-keys= ${LEGACY_KEY}
#app.encryption.debug=true

jwt.secret=YXBpS2V5U2VjdXJlMjAyNkpXVFNpZ25pbmdLZXlGb3JNYXRyaW1vbnlBcHBsaWNhdGlvblNlY3VyZVRva2VuR2VuZXJhdGlvbkFuZFZhbGlkYXRpb25QdXJwb3Nlcw==
jwt.device-fingerprinting-enabled=true
jwt.not-before=0
jwt.allowed-clock-skew-seconds=10
jwt.expiration=7200
jwt.enforce-single-session=false

# Encryption settings
app.encryption.secret-key=K7gNU3sdo+OL0wNhqoVWhr3g6s1xYv72ol/pe/Unols=
app.encryption.legacy-keys=9xN2eS5K8mP4vR7wQ3tY6uI1oL0aZ4bC5dE8fG2hJ6k=,L8mQ3sT6vY9zA2cF5hK8nP1rU4wX7bE0dG3jM6oR9tV=
app.encryption.debug=true

# SSL configuration
app.ssl.enabled=false
server.ssl.enabled=false

# Exam Result Scheduler Configuration
app.scheduler.exam-results=0 */5 * * * *

# Root logging level
logging.level.root=INFO

# Application logging - DEBUG for development
logging.level.com.spring.jwt=DEBUG

logging.level.org.springframework.security=INFO
logging.level.com.spring.jwt.config.filter=DEBUG

logging.level.org.hibernate.SQL=INFO
logging.level.org.hibernate.type.descriptor.sql.BasicBinder=INFO
logging.level.org.hibernate.orm.jdbc.bind=INFO

# HikariCP - INFO level
logging.level.com.zaxxer.hikari=INFO

# Spring Framework
logging.level.org.springframework.web=INFO

# Log pattern - detailed for dev
logging.pattern.console=%d{HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n
