server.port=8080

#datasource - Local Development
spring.datasource.url=jdbc:mysql://localhost:3306/Matromony?createDatabaseIfNotExist=true&useSSL=false&allowPublicKeyRetrieval=true
spring.datasource.username=root
spring.datasource.password=root

#datasource
#spring.datasource.url=jdbc:mysql://localhost:3306/Matromony?createDatabaseIfNotExist=true&useSSL=true
#spring.datasource.username = root
#spring.datasource.password=root

spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver

# HikariCP Connection Pool Configuration
spring.datasource.hikari.minimum-idle=5
spring.datasource.hikari.maximum-pool-size=20
spring.datasource.hikari.idle-timeout=300000
spring.datasource.hikari.max-lifetime=1200000
spring.datasource.hikari.connection-timeout=30000
spring.datasource.hikari.pool-name=MatrimonyHikariPool
spring.datasource.hikari.leak-detection-threshold=60000

# JPA/Hibernate Performance Settings
spring.jpa.open-in-view=false
spring.jpa.properties.hibernate.jdbc.batch_size=25
spring.jpa.properties.hibernate.order_inserts=true
spring.jpa.properties.hibernate.order_updates=true
spring.jpa.properties.hibernate.jdbc.batch_versioned_data=true
spring.jpa.properties.hibernate.default_batch_fetch_size=16

spring.jpa.generate-ddl=true
# Enable SQL logging in dev for debugging
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true

spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect
spring.jpa.hibernate.ddl-auto=update

spring.main.allow-circular-references=true

spring.mail.username=""
spring.mail.password=""
spring.mail.host=smtp.gmail.com
spring.mail.port=465
spring.mail.properties.mail.smtp.ssl.enable=true
spring.mail.properties.mail.smtp.auth=true

# Swagger properties
springdoc.swagger-ui.path=/swagger-ui.html
springdoc.api-docs.path=/v3/api-docs

# Rate limiting settings (relaxed for dev)
app.rate-limiting.enabled=true
app.rate-limiting.limit-for-period=1000
app.rate-limiting.refresh-period=600
app.rate-limiting.timeout-duration=3000

spring.task.scheduling.time-zone=Asia/Kolkata

# Password reset URL
app.url.password-reset=http://localhost:3000/reset-password

# CORS configuration
app.cors.allowed-origins=http://localhost:5173,http://localhost:3000,https://matrimony-v1.netlify.app

# JWT Configuration
jwt.device-fingerprinting-enabled=false
jwt.not-before=0
jwt.allowed-clock-skew-seconds=10
jwt.expiration=7200
jwt.enforce-single-session=false

# Encryption settings
app.encryption.secret-key=secure-encryption-key-123456789012
app.encryption.legacy-keys=secure-field-encryption-key-456,fieldEncryptionKey123,defaultSecretKey12345678901234567890
app.encryption.debug=true

# SSL configuration
app.ssl.enabled=false
server.ssl.enabled=false

# Exam Result Scheduler Configuration
app.scheduler.exam-results=0 */5 * * * *

# ============================================
# DEVELOPMENT LOGGING CONFIGURATION
# ============================================
# Root logging level
logging.level.root=INFO

# Application logging - DEBUG for development
logging.level.com.spring.jwt=DEBUG

# Spring Security - DEBUG for auth issues
logging.level.org.springframework.security=DEBUG
logging.level.com.spring.jwt.config.filter=DEBUG

# Hibernate SQL logging (formatted)
logging.level.org.hibernate.SQL=DEBUG
logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE

# HikariCP - INFO level
logging.level.com.zaxxer.hikari=INFO

# Spring Framework
logging.level.org.springframework.web=INFO

# Log pattern - detailed for dev
logging.pattern.console=%d{HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n
